# Bash-скрипт для бекапа на Яндекс.Диск
Возможности скрипта:  
- Создание на сервере бекапа файлов (каталога);
- Авторизация на Яндекс.Диске в качестве приложения (по токену);
- Отправка бекапов с сервера на Яндекс.Диск;
- Удаление старых бекапов с Яндекс.Диска для экономии места (настраивается максимальное количество хранимых бэкапов);
- Запись лога.

## Получение токена от Яндекс.Диска
1.  Авторизовываемся на Яндексе под аккаунтом, на диск которого будем делать бекап, заходим на `oauth.yandex.ru` и нажимаем `Зарегистрировать новое приложение`.
2. Заполняем название приложения (например, `backup`). В разделе **`Платформы`** ставим галочку напротив `Веб-сервисы` и под *`Callback URI #1:`* нажимаем на ссылку *`Подставить URL для разработки`*.
3. Далее выдаём нужные права в разделе **`Яндекс.Диск REST API`**, а именно: `Доступ к информации о Диске` и `Доступ к папке приложения на Диске`. Нажимаем на кнопку **`Создать приложение`**.
4. После этого вас перенаправят на страницу с данными о приложении, нам нужен ID.
5. Получаем токен. Для этого копируем ID из предыдущего пункта и подставляем в конец URL `https://oauth.yandex.ru/authorize?response_type=token&client_id=` Переходим по получившемуся адресу и подтверждаем выдачу разрешений приложению. В итоге на странице будет отображён токен, который выдается не менее, чем на 1 год, поэтому если скрипт бекапа вдруг перестанет работать, мы сможем получить новый токен и подставить его в скрипт.

## Настройки скрипта
В теле скрипта обозначены настройки, которые можно изменить. Не забуль указать свой токен в переменной ***`TOKEN`***

Скрипт следует расположить на сервере, заменить в нём параметры на свои, дать права на запуск (chmod +x) и поставить на ежедневное выполнение в cron. 
